(function(e){function t(t){for(var c,i,a=t[0],r=t[1],d=t[2],u=0,b=[];u<a.length;u++)i=a[u],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&b.push(s[i][0]),s[i]=0;for(c in r)Object.prototype.hasOwnProperty.call(r,c)&&(e[c]=r[c]);l&&l(t);while(b.length)b.shift()();return o.push.apply(o,d||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],c=!0,a=1;a<n.length;a++){var r=n[a];0!==s[r]&&(c=!1)}c&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var c={},s={app:0},o=[];function i(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=c,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)i.d(n,c,function(t){return e[t]}.bind(null,c));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],r=a.push.bind(a);a.push=t,a=a.slice();for(var d=0;d<a.length;d++)t(a[d]);var l=r;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},1308:function(e,t,n){},"3cfb":function(e,t,n){},6985:function(e,t,n){"use strict";n("3cfb")},"741f":function(e,t,n){"use strict";n("9a66")},"9a66":function(e,t,n){},ac9a:function(e,t,n){"use strict";n("e93c")},cd49:function(e,t,n){"use strict";n.r(t);var c=n("7a23");const s={id:"cover"};function o(e,t,n,o,i,a){const r=Object(c["p"])("Header"),d=Object(c["p"])("TIDILEDisplay"),l=Object(c["p"])("Settings");return Object(c["i"])(),Object(c["c"])("div",s,[Object(c["e"])(r),Object(c["e"])(d),Object(c["e"])(l)])}const i=e=>(Object(c["l"])("data-v-1a814ee1"),e=e(),Object(c["j"])(),e),a={class:"header"},r=i(()=>Object(c["d"])("h1",null,"TIDILE",-1)),d=[r];function l(e,t){return Object(c["i"])(),Object(c["c"])("header",a,d)}n("f576");var u=n("6b0d"),b=n.n(u);const p={},h=b()(p,[["render",l],["__scopeId","data-v-1a814ee1"]]);var O=h;const j={class:"settings"};function m(e,t,n,s,o,i){const a=Object(c["p"])("SectionWiFi"),r=Object(c["p"])("SectionColor"),d=Object(c["p"])("SectionGeneral"),l=Object(c["p"])("SectionNightTime"),u=Object(c["p"])("SectionCustom"),b=Object(c["p"])("SectionPresence");return Object(c["i"])(),Object(c["c"])("div",j,[Object(c["u"])(Object(c["e"])(a,{current:e.current,available:e.available},null,8,["current","available"]),[[c["t"],e.apMode]]),Object(c["e"])(r),Object(c["e"])(d),Object(c["e"])(l),Object(c["e"])(u),Object(c["u"])(Object(c["e"])(a,{current:e.current,available:e.available},null,8,["current","available"]),[[c["t"],!e.apMode]]),Object(c["e"])(b)])}var g=n("5c40"),v=n("bc3a"),f=n.n(v);const S=Object(c["d"])("h1",null,"Colors",-1),T={class:"attribute"},y=Object(c["d"])("a",null,"Hours",-1),w={class:"attribute"},D=Object(c["d"])("a",null,"Minutes",-1),C=Object(c["d"])("a",null,"Seconds",-1),k={class:"attribute"},_=Object(c["d"])("a",null,"Dimm Seconds",-1);function I(e,t,n,s,o,i){return Object(c["i"])(),Object(c["c"])("section",null,[S,Object(c["d"])("div",T,[y,Object(c["u"])(Object(c["d"])("input",{type:"color","onUpdate:modelValue":t[0]||(t[0]=t=>e.store.colors.hours=t),onInput:t[1]||(t[1]=(...t)=>e.update&&e.update(...t))},null,544),[[c["s"],e.store.colors.hours]])]),Object(c["d"])("div",w,[D,Object(c["u"])(Object(c["d"])("input",{type:"color","onUpdate:modelValue":t[2]||(t[2]=t=>e.store.colors.minutes=t),onInput:t[3]||(t[3]=(...t)=>e.update&&e.update(...t))},null,544),[[c["s"],e.store.colors.minutes]])]),Object(c["d"])("div",{class:Object(c["g"])(["attribute",e.store.colors.dimm_seconds?"greyed":""])},[C,Object(c["u"])(Object(c["d"])("input",{type:"color","onUpdate:modelValue":t[4]||(t[4]=t=>e.store.colors.seconds=t),onInput:t[5]||(t[5]=(...t)=>e.update&&e.update(...t))},null,544),[[c["s"],e.store.colors.seconds]])],2),Object(c["d"])("div",k,[_,Object(c["u"])(Object(c["d"])("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=t=>e.store.colors.dimm_seconds=t),onChange:t[7]||(t[7]=(...t)=>e.update&&e.update(...t))},null,544),[[c["r"],e.store.colors.dimm_seconds]])])])}var E=Object(c["m"])({colors:{hours:"#000000",minutes:"#000000",seconds:"#000000",dimm_seconds:!1}}),P=Object(g["k"])({name:"SectionColor",data(){return{store:E}},mounted(){f.a.get("/colors").then(e=>{E.colors=e.data})},methods:{update(){f.a.post("/colors",E.colors)}}});const U=b()(P,[["render",I]]);var M=U;const V=Object(c["d"])("h1",null,"General",-1),x={class:"attribute"},B=Object(c["d"])("a",null,"Show Seconds",-1),N={class:"attribute"},L=Object(c["d"])("a",null,"24h Format",-1),F={class:"attribute"},W=Object(c["d"])("a",null,"Reverse Direction",-1),G={class:"attribute"},q=Object(c["d"])("a",null,"Brightness",-1),H={class:"attribute"},A=Object(c["d"])("a",null,"Light Sensor Influence",-1);function R(e,t,n,s,o,i){return Object(c["i"])(),Object(c["c"])("section",null,[V,Object(c["d"])("div",x,[B,Object(c["u"])(Object(c["d"])("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=t=>e.showSeconds=t),onChange:t[1]||(t[1]=(...t)=>e.update&&e.update(...t))},null,544),[[c["r"],e.showSeconds]])]),Object(c["d"])("div",N,[L,Object(c["u"])(Object(c["d"])("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=t=>e.format24h=t),onChange:t[3]||(t[3]=(...t)=>e.update&&e.update(...t))},null,544),[[c["r"],e.format24h]])]),Object(c["d"])("div",F,[W,Object(c["u"])(Object(c["d"])("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=t=>e.reverseDirection=t),onChange:t[5]||(t[5]=(...t)=>e.update&&e.update(...t))},null,544),[[c["r"],e.reverseDirection]])]),Object(c["d"])("div",G,[q,Object(c["u"])(Object(c["d"])("input",{type:"range",min:"1",max:"100","onUpdate:modelValue":t[6]||(t[6]=t=>e.brightness=t),onInput:t[7]||(t[7]=(...t)=>e.update&&e.update(...t))},null,544),[[c["s"],e.brightness]])]),Object(c["d"])("div",H,[A,Object(c["u"])(Object(c["d"])("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=t=>e.lightSensorInfluence=t),onInput:t[9]||(t[9]=(...t)=>e.update&&e.update(...t))},null,544),[[c["s"],e.lightSensorInfluence]])])])}var J=Object(g["k"])({name:"SectionGeneral",data(){return{showSeconds:!0,format24h:!1,brightness:20,lightSensorInfluence:0,reverseDirection:!1}},components:{},mounted:function(){f.a.get("/general").then(e=>{this.showSeconds=e.data.show_seconds,this.format24h=e.data.format_24,this.brightness=e.data.brightness,this.lightSensorInfluence=e.data.light_sensor_influence,this.reverseDirection=e.data.reverse_direction})},methods:{update:function(){f.a.post("/general",{show_seconds:this.showSeconds,format_24:this.format24h,brightness:this.brightness,light_sensor_influence:this.lightSensorInfluence,reverse_direction:this.reverseDirection})}}});const $=b()(J,[["render",R]]);var z=$;const K=Object(c["d"])("h1",null,"WiFi",-1),Q={class:"attribute"},X=Object(c["d"])("a",null,"SSID",-1),Y={class:"attribute"},Z=Object(c["d"])("a",null,"Password",-1),ee={class:"button-list"},te=["onClick"];function ne(e,t,n,s,o,i){return Object(c["i"])(),Object(c["c"])("section",null,[K,Object(c["d"])("i",null,"Connected to "+Object(c["q"])(e.current.ssid)+" with "+Object(c["q"])(e.current.rssi)+"dB.",1),Object(c["d"])("div",Q,[X,Object(c["u"])(Object(c["d"])("input",{"onUpdate:modelValue":t[0]||(t[0]=t=>e.ssid=t)},null,512),[[c["s"],e.ssid]])]),Object(c["d"])("div",Y,[Z,Object(c["u"])(Object(c["d"])("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=t=>e.password=t)},null,512),[[c["s"],e.password]])]),Object(c["d"])("div",ee,[(Object(c["i"])(!0),Object(c["c"])(c["a"],null,Object(c["o"])(e.available,t=>(Object(c["i"])(),Object(c["c"])("button",{key:t.ssid,onClick:n=>e.ssid=t.ssid},Object(c["q"])(t.ssid),9,te))),128))]),Object(c["d"])("button",{onClick:t[2]||(t[2]=(...t)=>e.update&&e.update(...t))},"Connect!")])}var ce=Object(g["k"])({name:"SectionWiFi",props:{current:Object,available:Array},data(){return{ssid:"",password:"",colorHours:"#00000",dimmSeconds:!1}},components:{},mounted:function(){},methods:{update:function(){f.a.post("/credentials",{ssid:this.ssid,password:this.password})}}});const se=b()(ce,[["render",ne]]);var oe=se;const ie=Object(c["d"])("h1",null,"Night Time",-1),ae={class:"attribute"},re=Object(c["d"])("a",null,"Enable Night Time",-1),de={class:"attribute"},le=Object(c["d"])("a",null,"Night Time Begin",-1),ue={class:"attribute"},be=Object(c["d"])("a",null,"Night Time End",-1);function pe(e,t,n,s,o,i){return Object(c["i"])(),Object(c["c"])("section",null,[ie,Object(c["d"])("div",ae,[re,Object(c["u"])(Object(c["d"])("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=t=>e.enableNightTime=t),onChange:t[1]||(t[1]=(...t)=>e.update&&e.update(...t))},null,544),[[c["r"],e.enableNightTime]])]),Object(c["d"])("div",de,[le,Object(c["u"])(Object(c["d"])("input",{type:"time","onUpdate:modelValue":t[2]||(t[2]=t=>e.nighTimeBegin=t),onChange:t[3]||(t[3]=(...t)=>e.update&&e.update(...t))},null,544),[[c["s"],e.nighTimeBegin]])]),Object(c["d"])("div",ue,[be,Object(c["u"])(Object(c["d"])("input",{type:"time","onUpdate:modelValue":t[4]||(t[4]=t=>e.nightTimeEnd=t),onChange:t[5]||(t[5]=(...t)=>e.update&&e.update(...t))},null,544),[[c["s"],e.nightTimeEnd]])])])}var he=Object(g["k"])({name:"SectionNightTime",data(){return{enableNightTime:!0,nighTimeBegin:"",nightTimeEnd:""}},components:{},mounted:function(){f.a.get("/nightTime").then(e=>{this.enableNightTime=e.data.enabled,this.nighTimeBegin=this.timeStringToBrowser(e.data.begin),this.nightTimeEnd=this.timeStringToBrowser(e.data.end)})},methods:{update:function(){f.a.post("/nightTime",{enabled:this.enableNightTime,begin:this.browserTimeToESP(this.nighTimeBegin),end:this.browserTimeToESP(this.nightTimeEnd)})},timeStringToBrowser:function(e){return(""+e).substr(0,2)+":"+(""+e).substr(e.length-2,2)},browserTimeToESP:function(e){return(""+e).substr(0,2)+(""+e).substr(3,2)}}});const Oe=b()(he,[["render",pe]]);var je=Oe;const me=Object(c["d"])("h1",null,"Custom",-1),ge={class:"attribute"},ve=Object(c["d"])("a",null,"Custom Color",-1),fe={class:"attribute"},Se=Object(c["d"])("a",null,"Set End Time",-1),Te=Object(c["d"])("a",null,"End Time",-1);function ye(e,t,n,s,o,i){return Object(c["i"])(),Object(c["c"])("section",null,[me,Object(c["d"])("div",ge,[ve,Object(c["u"])(Object(c["d"])("input",{type:"color","onUpdate:modelValue":t[0]||(t[0]=t=>e.customColor=t),onChange:t[1]||(t[1]=(...t)=>e.update&&e.update(...t))},null,544),[[c["s"],e.customColor]])]),Object(c["d"])("div",fe,[Se,Object(c["u"])(Object(c["d"])("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=t=>e.isEnding=t)},null,512),[[c["r"],e.isEnding]])]),Object(c["d"])("div",{class:Object(c["g"])(["attribute",e.isEnding?"":"greyed"])},[Te,Object(c["u"])(Object(c["d"])("input",{type:"datetime-local","onUpdate:modelValue":t[3]||(t[3]=t=>e.endTime=t)},null,512),[[c["s"],e.endTime]])],2),Object(c["d"])("button",{onClick:t[4]||(t[4]=t=>e.setColor())},"Display Color"),Object(c["d"])("button",{onClick:t[5]||(t[5]=t=>e.setNormal())},"Display Time")])}var we=Object(g["k"])({name:"SectionCustom",data(){return{customColor:"#FFFF00",isEnding:!1,endTime:"",customTime:{hours:0,minutes:0,seconds:0}}},components:{},methods:{post(e){const t=new Date(this.endTime).valueOf();console.log(t),f.a.post("/custom",{mode:e,color:this.customColor,end:this.isEnding?t/1e3:2147483647,time:this.customTime})},setColor(){this.post("COLOR")},setNormal(){this.post("NORMAL")}}});const De=b()(we,[["render",ye]]);var Ce=De;const ke=Object(c["d"])("h1",null,"Presence Detection",-1),_e=Object(c["d"])("p",null,"TIDILE will turn off when none of the following devices is in the same network. If the list is empty this setting is ignored.",-1),Ie={class:"attribute"},Ee=Object(c["d"])("a",null,"Enabled",-1),Pe=["onClick"];function Ue(e,t,n,s,o,i){return Object(c["i"])(),Object(c["c"])("section",null,[ke,_e,Object(c["d"])("div",Ie,[Ee,Object(c["u"])(Object(c["d"])("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=t=>e.presenceData.enabled=t),onChange:t[1]||(t[1]=(...t)=>e.togglePresence&&e.togglePresence(...t))},null,544),[[c["r"],e.presenceData.enabled]])]),(Object(c["i"])(!0),Object(c["c"])(c["a"],null,Object(c["o"])(e.presenceData.devices,t=>(Object(c["i"])(),Object(c["c"])("div",{class:"attribute",key:t.address},[Object(c["d"])("a",null,Object(c["q"])(t.address),1),Object(c["d"])("a",null,Object(c["q"])(t.online?"Online":"Offline"),1),Object(c["d"])("button",{onClick:n=>e.removeDevice(t.address)},"Remove Device",8,Pe)]))),128)),Object(c["d"])("button",{onClick:t[2]||(t[2]=(...t)=>e.addDevice&&e.addDevice(...t))},"Add Device")])}var Me=n("ce1f");class Ve extends Me["a"]{constructor(){super(...arguments),this.presenceData={devices:[],enabled:!1}}mounted(){this.loadDevices()}async removeDevice(e){let t=this.presenceData.devices.map(e=>e.address),n=t.filter(t=>t!==e);await f.a.post("/presence",{devices:n,enabled:this.presenceData.enabled}),this.loadDevices()}async loadDevices(){f.a.get("/presence").then(e=>{this.presenceData=e.data}),this.$forceUpdate()}addDevice(){let e=prompt("Please enter the device's IP address or hostname","");null!=e&&(f.a.post("/presence",{devices:[...this.presenceData.devices.map(e=>e.address),e],enabled:this.presenceData.enabled}),this.loadDevices())}async togglePresence(){await f.a.post("/presence",{devices:this.presenceData.devices.map(e=>e.address),enabled:this.presenceData.enabled})}}const xe=b()(Ve,[["render",Ue]]);var Be=xe,Ne=Object(g["k"])({name:"Settings",components:{SectionColor:M,SectionGeneral:z,SectionWiFi:oe,SectionNightTime:je,SectionCustom:Ce,SectionPresence:Be},data(){return{apMode:!1,current:{ssid:"",rssi:"0"},available:[]}},mounted(){f.a.get("/wifi").then(e=>{this.apMode=e.data.apMode,this.current=e.data.current,this.available=e.data.available})}});n("ac9a");const Le=b()(Ne,[["render",m]]);var Fe=Le;const We=e=>(Object(c["l"])("data-v-f331aee2"),e=e(),Object(c["j"])(),e),Ge={class:"tidile"},qe=We(()=>Object(c["d"])("div",{id:"curTime"},null,-1)),He={id:"clock"};function Ae(e,t,n,s,o,i){return Object(c["i"])(),Object(c["c"])("div",Ge,[qe,Object(c["d"])("div",He,[Object(c["d"])("div",{id:"minutes",style:Object(c["h"])("background-color:"+this.colors.minutes+"; width: "+e.minWidth)},null,4),Object(c["d"])("div",{id:"hours",style:Object(c["h"])("background-color:"+this.colors.hours+"; margin-left: "+e.hourMargLeft)},null,4),Object(c["d"])("div",{id:"seconds",style:Object(c["h"])("background-color:"+this.secondsBG+"; margin-left: "+e.secMargLeft)},null,4)])])}class Re extends Me["a"]{constructor(){super(...arguments),this.format24=!1,this.dimmSecs=!1,this.minWidth="",this.hourMargLeft="",this.secMargLeft=""}mounted(){f.a.get("/general").then(e=>{this.format24=e.data.format_24}),this.updateColors(),setInterval(()=>{this.setTimeBar()},500)}updateColors(){this.dimmSecs=this.colors.dimm_seconds}get colors(){return E.colors}get secondsBG(){return this.dimmSecs?"#00000088":this.colors.seconds}setTimeBar(){var e=new Date,t=11;this.format24&&(t=23);var n=e.getHours();n>=12&&11==t&&(n-=12),this.updateColors(),this.minWidth=e.getMinutes()/60*100+"%",this.hourMargLeft=n/t*100+"%",this.secMargLeft=e.getSeconds()/60*100+"%"}}n("741f");const Je=b()(Re,[["render",Ae],["__scopeId","data-v-f331aee2"]]);var $e=Je,ze=Object(c["f"])({name:"App",components:{Header:O,Settings:Fe,TIDILEDisplay:$e}});n("6985");const Ke=b()(ze,[["render",o]]);var Qe=Ke;Object(c["b"])(Qe).mount("#app")},e93c:function(e,t,n){},f576:function(e,t,n){"use strict";n("1308")}});